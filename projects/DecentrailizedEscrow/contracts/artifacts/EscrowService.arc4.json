{
  "name": "EscrowService",
  "desc": "",
  "methods": [
    {
      "name": "createApplication",
      "desc": "Initialize the escrow contract",
      "args": [
        {
          "name": "assetId",
          "type": "uint64",
          "desc": "The asset to be held in escrow"
        },
        {
          "name": "quantity",
          "type": "uint64",
          "desc": "The quantity of the asset to transfer"
        },
        {
          "name": "paymentAmount",
          "type": "uint64",
          "desc": "The amount the boss has to pay"
        },
        {
          "name": "worker",
          "type": "address",
          "desc": "The worker who will receive the asset if the condition is met"
        }
      ],
      "returns": {
        "type": "void"
      }
    },
    {
      "name": "setConditionMet",
      "desc": "Sets the condition to true, allowing funds release, and sends a message to the worker\nThis can be called by the boss upon confirmation that work is done or the asset has been delivered.",
      "args": [
        {
          "name": "workerAddress",
          "type": "address",
          "desc": "The address of the worker to confirm identity and send a message"
        }
      ],
      "returns": {
        "type": "void"
      }
    },
    {
      "name": "optInToAsset",
      "desc": "Opt the contract address into the asset being held in escrow.\nThis allows the contract to hold the asset securely.",
      "args": [
        {
          "name": "mbrTxn",
          "type": "pay",
          "desc": "The payment transaction that covers the Minimum Balance Requirement (MBR) for opting into the asset."
        }
      ],
      "returns": {
        "type": "void"
      }
    },
    {
      "name": "releaseFunds",
      "desc": "Transfer funds from escrow to worker if the condition is met",
      "args": [
        {
          "name": "workerPaymentTxn",
          "type": "pay",
          "desc": "The payment transaction from the boss to the contract"
        }
      ],
      "returns": {
        "type": "void"
      }
    },
    {
      "name": "deleteEscrow",
      "desc": "Method to cancel the escrow and delete the application\nReturns any remaining funds or assets to the boss",
      "args": [],
      "returns": {
        "type": "void"
      }
    }
  ]
}